<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Расписание МИРЭА (iOS Native)</title>
    <style>
        /* --- БАЗОВЫЕ НАСТРОЙКИ --- */
        :root {
            --bg-page: #F2F2F7;
            --text-main: #1C1C1E;
            --text-muted: #8E8E93;
            --mirea-blue: #0D3C61;
            --mirea-cyan: #00B4D8;
            
            --lec-bg: #E3F2FD; --lec-text: #1565C0;
            --prac-bg: #E8F5E9; --prac-text: #2E7D32;
            --lab-bg: #FFF3E0; --lab-text: #EF6C00;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-page);
            color: var(--text-main);
            padding-bottom: 80px;
            overflow-x: hidden;
        }

        /* --- ХЕДЕР --- */
        .header {
            background: linear-gradient(135deg, #0D3C61 0%, #00B4D8 100%);
            color: white;
            padding: 2.5rem 1rem 2rem;
            text-align: center;
            border-radius: 0 0 24px 24px;
            margin-bottom: 1.5rem;
            padding-top: max(2.5rem, env(safe-area-inset-top));
            box-shadow: 0 4px 20px rgba(0, 180, 216, 0.2);
        }
        .group-title { font-size: 2rem; font-weight: 800; line-height: 1.1; margin-bottom: 5px; }
        .group-desc { font-size: 0.8rem; opacity: 0.9; }

        /* --- СКРЫТАЯ ЛОГИКА (RADIO HACK) --- */
        input[type="radio"] { display: none; }

        /* --- КОНТРОЛЫ --- */
        .controls-container {
            max-width: 600px;
            margin: 0 auto 1.5rem;
            padding: 0 1rem;
        }
        .control-section { margin-bottom: 16px; }
        .control-label {
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 6px;
            margin-left: 6px;
            letter-spacing: 0.5px;
        }
        .control-group {
            background: white;
            border-radius: 14px;
            padding: 4px;
            display: flex;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        /* Кнопки теперь LABEL */
        .toggle-label {
            flex: 1;
            padding: 10px 0;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-muted);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            -webkit-user-select: none;
        }
        
        /* Логика подсветки активных кнопок */
        #w1:checked ~ .controls-container label[for="w1"],
        #w2:checked ~ .controls-container label[for="w2"],
        #w3:checked ~ .controls-container label[for="w3"],
        #w4:checked ~ .controls-container label[for="w4"],
        #g1:checked ~ .controls-container label[for="g1"],
        #g2:checked ~ .controls-container label[for="g2"],
        #v-list:checked ~ .controls-container label[for="v-list"],
        #v-card:checked ~ .controls-container label[for="v-card"] {
            background: var(--text-main);
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* --- КОНТЕЙНЕР КОНТЕНТА --- */
        .schedule-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* --- ЛОГИКА ПОКАЗА НЕДЕЛЬ --- */
        .week-content { display: none; }
        
        #w1:checked ~ .schedule-container #week-1,
        #w2:checked ~ .schedule-container #week-2,
        #w3:checked ~ .schedule-container #week-3,
        #w4:checked ~ .schedule-container #week-4 {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- ЛОГИКА ПОДГРУПП --- */
        .subgroup-1-only, .subgroup-2-only { display: none !important; }
        
        #g1:checked ~ .schedule-container .subgroup-1-only { display: flex !important; }
        #g2:checked ~ .schedule-container .subgroup-2-only { display: flex !important; }


        /* ==================================================================
           СТИЛИЗАЦИЯ (АДАПТИВНАЯ ПОД VIEW MODE)
           ================================================================== */
        
        /* --- 1. ШАПКА НЕДЕЛИ (VISUAL HEADER) --- */
        .week-visual-header {
            background: linear-gradient(135deg, var(--mirea-blue), var(--mirea-cyan));
            color: white;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 24px 24px 0 0; /* Скругление только сверху для карточки */
            display: none; /* По умолчанию скрыто (режим списка) */
        }
        .big-num { font-size: 3.5rem; font-weight: 900; line-height: 0.9; opacity: 0.9; }
        .big-label { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; opacity: 0.8; }

        /* --- 2. КАРТОЧКА ДНЯ --- */
        .day-card {
            margin-bottom: 1.5rem;
        }
        .day-header {
            font-size: 1.1rem;
            font-weight: 800;
            margin-bottom: 0.8rem;
            padding-left: 4px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* --- 3. ПАРА (ОБЩИЙ ВИД) --- */
        .pair-item {
            background: white;
            border-radius: 16px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            gap: 1rem;
        }
        .pair-time {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .pair-time .num { font-weight: 800; line-height: 1; }
        .pair-time .interval { display: flex; flex-direction: column; align-items: center; font-weight: 500; line-height: 1; opacity: 0.8; }
        
        .pair-content { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        
        .subject { font-weight: 700; font-size: 0.95rem; line-height: 1.3; color: var(--text-main); margin-bottom: 4px; }
        .teacher { font-size: 0.8rem; color: var(--text-muted); }
        .badge { display: inline-block; font-size: 0.65rem; font-weight: 700; text-transform: uppercase; padding: 3px 8px; border-radius: 6px; margin-top: 6px; align-self: flex-start; }

        /* Цвета бейджей (по умолчанию) */
        .type-lk .badge { background: var(--lec-bg); color: var(--lec-text); }
        .type-pr .badge { background: var(--prac-bg); color: var(--prac-text); }
        .type-lab .badge { background: var(--lab-bg); color: var(--lab-text); }


        /* ==================================================================
           ТРАНСФОРМАЦИЯ В "КАРТОЧКУ" (CSS OVERRIDES)
           ================================================================== */
        /* Эти стили применяются, когда выбран v-card */

        /* Контейнер недели */
        #v-card:checked ~ .schedule-container .week-content {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 450px;
            margin: 0 auto 2rem;
            padding-bottom: 1.5rem;
        }

        /* Показываем большую шапку */
        #v-card:checked ~ .schedule-container .week-visual-header { display: block; }
        
        /* Дни */
        #v-card:checked ~ .schedule-container .days-wrapper { padding: 0 1.5rem; }
        #v-card:checked ~ .schedule-container .day-card { margin-bottom: 1.5rem; }
        #v-card:checked ~ .schedule-container .day-header { 
            font-size: 0.85rem; color: #B0BEC5; border-bottom: 2px solid #F5F5F5; padding-bottom: 4px; margin-bottom: 12px; 
        }

        /* Пара в режиме Карточки */
        #v-card:checked ~ .schedule-container .pair-item {
            display: grid;
            grid-template-columns: 55px 1fr;
            gap: 12px;
            padding: 0;
            background: transparent;
            box-shadow: none;
            margin-bottom: 12px;
        }

        /* Время в режиме Карточки */
        #v-card:checked ~ .schedule-container .pair-time {
            background: #F5F7FA;
            border-radius: 10px;
            padding: 4px;
            color: var(--mirea-blue);
            min-width: auto;
            border: none;
            justify-content: center;
        }
        #v-card:checked ~ .schedule-container .pair-time .num { font-size: 1.1rem; margin-bottom: 2px; }
        #v-card:checked ~ .schedule-container .pair-time .interval { font-size: 0.6rem; gap: 0; }

        /* Контент в режиме Карточки (цветные плашки) */
        #v-card:checked ~ .schedule-container .pair-content {
            padding: 10px 14px;
            border-radius: 12px;
            border-left: 4px solid transparent;
            display: block; /* Сброс флекса */
        }

        #v-card:checked ~ .schedule-container .type-lk .pair-content { background: var(--lec-bg); color: var(--lec-text); border-color: var(--lec-text); }
        #v-card:checked ~ .schedule-container .type-pr .pair-content { background: var(--prac-bg); color: var(--prac-text); border-color: var(--prac-text); }
        #v-card:checked ~ .schedule-container .type-lab .pair-content { background: var(--lab-bg); color: var(--lab-text); border-color: var(--lab-text); }

        #v-card:checked ~ .schedule-container .badge { display: none; } /* Прячем бейджи */

        
        /* --- СТИЛИ СПИСКА (ПО УМОЛЧАНИЮ) --- */
        /* Дополнительные уточнения для режима списка, чтобы перебить дефолтные стили браузера если что */
        #v-list:checked ~ .schedule-container .pair-time {
            min-width: 55px;
            border-right: 1px solid #F0F0F0;
            padding-right: 10px;
        }
        #v-list:checked ~ .schedule-container .pair-time .num { font-size: 1.4rem; color: var(--mirea-blue); margin-bottom: 4px; }
        #v-list:checked ~ .schedule-container .pair-time .interval { font-size: 0.65rem; gap: 2px; color: var(--text-muted); }

    </style>
</head>
<body>

    <!-- ГЛОБАЛЬНЫЕ ПЕРЕКЛЮЧАТЕЛИ СОСТОЯНИЯ -->
    <!-- Недели -->
    <input type="radio" name="week" id="w1" checked>
    <input type="radio" name="week" id="w2">
    <input type="radio" name="week" id="w3">
    <input type="radio" name="week" id="w4">
    <!-- Группы -->
    <input type="radio" name="group" id="g1" checked>
    <input type="radio" name="group" id="g2">
    <!-- Вид -->
    <input type="radio" name="view" id="v-list" checked>
    <input type="radio" name="view" id="v-card">

    <header class="header">
        <div class="group-title">ПКБО-01-24</div>
        <div class="group-desc">Проектирование и технологии СВЧ устройств</div>
    </header>

    <div class="controls-container">
        
        <div class="control-section">
            <div class="control-label">Учебная неделя</div>
            <div class="control-group">
                <label class="toggle-label" for="w1">1</label>
                <label class="toggle-label" for="w2">2</label>
                <label class="toggle-label" for="w3">3</label>
                <label class="toggle-label" for="w4">4</label>
            </div>
        </div>

        <div class="control-section">
            <div class="control-label">Подгруппа</div>
            <div class="control-group">
                <label class="toggle-label" for="g1">1 подгруппа</label>
                <label class="toggle-label" for="g2">2 подгруппа</label>
            </div>
        </div>

        <div class="control-section">
            <div class="control-label">Режим отображения</div>
            <div class="control-group">
                <label class="toggle-label" for="v-list">Список</label>
                <label class="toggle-label" for="v-card">Карточка</label>
            </div>
        </div>

    </div>

    <div class="schedule-container">
        {{SCHEDULE_CONTENT}}

    </div>

</body>
</html>
